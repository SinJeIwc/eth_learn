# ‚úÖ –§–ò–ù–ê–õ–¨–ù–´–ô –ó–ê–ü–£–°–ö - Farm Game

## üéâ –í–°–ï –ì–û–¢–û–í–û!

### ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:

1. ‚úÖ **7 Smart Contracts** –∑–∞–¥–µ–ø–ª–æ–µ–Ω—ã –Ω–∞ **Status Sepolia**
2. ‚úÖ **Xsolla OAuth 2.0** –Ω–∞—Å—Ç—Ä–æ–µ–Ω
3. ‚úÖ **TypeScript —Ç–∏–ø—ã** —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã
4. ‚úÖ **–¶–µ–ø–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è** —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üöÄ –ó–ê–ü–£–°–ö (3 —à–∞–≥–∞)

### –®–∞–≥ 1: –û–±–Ω–æ–≤–∏ .env.local

`packages/nextjs/.env.local`:

```env
# Xsolla OAuth (—É–∂–µ –µ—Å—Ç—å)
NEXT_PUBLIC_XSOLLA_PROJECT_ID=295131
NEXT_PUBLIC_XSOLLA_CLIENT_ID=14057
XSOLLA_CLIENT_SECRET=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç

# –ê–¥—Ä–µ—Å–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –Ω–∞ Status Sepolia
NEXT_PUBLIC_FARM_MARKETPLACE=0xb7278A61aa25c888815aFC32Ad3cC52fF24fE575
NEXT_PUBLIC_PRICE_ORACLE=0x5f3f1dBD7B74C6B46e8c44f98792A1dAf8d69154
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥

```powershell
cd 'C:\Web\alatoo work\main\eth_learn\frontend\packages\nextjs'
yarn dev
```

### –®–∞–≥ 3: –ò–≥—Ä–∞–π!

1. –û—Ç–∫—Ä–æ–π: **http://localhost:3000**
2. **Login —Å Xsolla** (–ø—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª)
3. **Connect Wallet** (MetaMask)
4. **–ü–µ—Ä–µ–∫–ª—é—á–∏—Å—å –Ω–∞ Status Sepolia** –≤ MetaMask
5. **–ù–∞—á–∏–Ω–∞–π –∏–≥—Ä–∞—Ç—å!** üåæ

---

## üåê –î–æ–±–∞–≤–∏—Ç—å Status Sepolia –≤ MetaMask

```javascript
// –°–∫–æ–ø–∏—Ä—É–π –≤ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞:
await window.ethereum.request({
  method: 'wallet_addEthereumChain',
  params: [{
    chainId: '0x630C90BA',
    chainName: 'Status Sepolia',
    nativeCurrency: { 
      name: 'SNT', 
      symbol: 'SNT', 
      decimals: 18 
    },
    rpcUrls: ['https://public.sepolia.rpc.status.network'],
    blockExplorerUrls: ['https://sepoliascan.status.network']
  }]
});
```

---

## üéÆ –ö–∞–∫ –∏–≥—Ä–∞—Ç—å

### 1. –ü–æ–ª—É—á–∏ —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ —Ä–µ—Å—É—Ä—Å—ã

–ê–¥–º–∏–Ω –¥–æ–ª–∂–µ–Ω –¥–∞—Ç—å —Ç–µ–±–µ:
- **48 Land NFTs** (8x6 –∫–ª–µ—Ç–æ–∫)
- **100 FarmCoin** (–∏–≥—Ä–æ–≤–∞—è –≤–∞–ª—é—Ç–∞)

*–§—É–Ω–∫—Ü–∏—è –¥–ª—è –∞–¥–º–∏–Ω–∞:*
```solidity
marketplace.mintStarterLand(—Ç–≤–æ–π_–∞–¥—Ä–µ—Å);
marketplace.giveStarterCoins(—Ç–≤–æ–π_–∞–¥—Ä–µ—Å, 100 ether);
```

### 2. –ö—É–ø–∏ —Å–µ–º–µ–Ω–∞

```
Shop ‚Üí Buy Seeds ‚Üí –í—ã–±–µ—Ä–∏ —Ç–∏–ø (Wheat/Grape/Pumpkin)
```

**–¶–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ!** –ó–∞–≤–∏—Å—è—Ç –æ—Ç —Å–æ–±—ã—Ç–∏–π.

### 3. –ü–æ—Å–∞–¥–∏ —Å–µ–º–µ–Ω–∞

```
Inventory ‚Üí Select Seed ‚Üí Click –Ω–∞ –∫–ª–µ—Ç–∫—É –∑–µ–º–ª–∏
```

### 4. –¢—Ä–∏–≥–≥–µ—Ä–Ω–∏ —Å–æ–±—ã—Ç–∏–µ! üî•

```
Click "Trigger Event" ‚Üí –¶–µ–ø–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è:
  1. –°–ª—É—á–∞–π–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ (üåßÔ∏è –¥–æ–∂–¥—å, ü¶ó —Å–∞—Ä–∞–Ω—á–∞, ‚ùÑÔ∏è –º–æ—Ä–æ–∑...)
  2. –í–ª–∏—è–µ—Ç –Ω–∞ —Ç–≤–æ–∏ —Ä–∞—Å—Ç–µ–Ω–∏—è (health, growth)
  3. –ú–µ–Ω—è–µ—Ç –ø–ª–æ–¥–æ—Ä–æ–¥–Ω–æ—Å—Ç—å –∑–µ–º–ª–∏
  4. –ò–ó–ú–ï–ù–Ø–ï–¢ –¶–ï–ù–´ –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤!
```

### 5. –°–æ–±–µ—Ä–∏ —É—Ä–æ–∂–∞–π

```
–ö–æ–≥–¥–∞ —Ä–∞—Å—Ç–µ–Ω–∏–µ —Å–æ–∑—Ä–µ–ª–æ ‚Üí Click "Harvest" ‚Üí –ü–æ–ª—É—á–∏ FarmCoin!
```

**–ù–∞–≥—Ä–∞–¥–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∑–¥–æ—Ä–æ–≤—å—è —Ä–∞—Å—Ç–µ–Ω–∏—è!**

---

## üî• –¶–µ–ø–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è

```
triggerRandomEvent()
       ‚Üì
GameEvents: –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: FROST severity:850)
       ‚Üì
GameEffects: –ü—Ä–∏–º–µ–Ω—è–µ—Ç –∫ —Ç–≤–æ–∏–º —Ä–∞—Å—Ç–µ–Ω–∏—è–º
  - Health: -595
  - Fertility: -283
       ‚Üì
PriceOracle: –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Ü–µ–Ω—ã
  - Wheat: +28.3% (–ø–ª–æ—Ö–æ–π —É—Ä–æ–∂–∞–π ‚Üí –¥–µ—Ñ–∏—Ü–∏—Ç)
  - Grape: +21.2%
  - Pumpkin: +17.0%
       ‚Üì
Marketplace: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤—ã–µ —Ü–µ–Ω—ã –¥–ª—è –ø–æ–∫—É–ø–æ–∫/–ø—Ä–æ–¥–∞–∂
```

---

## üìä –°–æ–±—ã—Ç–∏—è –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã

| –°–æ–±—ã—Ç–∏–µ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –≠—Ñ—Ñ–µ–∫—Ç |
|---------|------------|--------|
| üåæ NONE | 30% | –ù–∏—á–µ–≥–æ |
| üåßÔ∏è RAIN | 20% | +Health, +Growth ‚úÖ |
| ü¶ó LOCUSTS | 15% | -Health (–¥–æ -500) ‚ùå |
| üí® WIND | 10% | -Health (minor) |
| ‚òÄÔ∏è DROUGHT | 10% | -Health, -Fertility |
| üåû SUNSTORM | 5% | ++Health, ++Growth ‚úÖ‚úÖ |
| ‚ùÑÔ∏è FROST | 5% | ---Health (–¥–æ -700) ‚ùå‚ùå‚ùå |
| üêõ PESTS | 5% | -Health (moderate) |

---

## üìç –ê–¥—Ä–µ—Å–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤

**Status Sepolia (Chain ID: 1660990954)**

```
FarmMarketplace: 0xb7278A61aa25c888815aFC32Ad3cC52fF24fE575
FarmCoin:        0x5eb3Bc0a489C5A8288765d2336659EbCA68FCd00
PlantNFT:        0x36C02dA8a0983159322a80FFE9F24b1acfF8B570
FarmLand:        0x809d550fca64d94Bd9F66E60752A544199cfAC3D
GameEvents:      0x4c5859f0F772848b2D91F1D83E2Fe57935348029
GameEffects:     0x1291Be112d480055DaFd8a610b7d1e203891C274
PriceOracle:     0x5f3f1dBD7B74C6B46e8c44f98792A1dAf8d69154
```

**Explorer:** https://sepoliascan.status.network

---

## üêõ –ü—Ä–æ–±–ª–µ–º—ã?

### "Cannot read properties of undefined"
```
–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ yarn dev –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
```

### "Xsolla login –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"
```
–ü—Ä–æ–≤–µ—Ä—å .env.local - CLIENT_SECRET –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º
```

### "Transaction failed"
```
1. –£–±–µ–¥–∏—Å—å —á—Ç–æ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ Status Sepolia
2. –ü—Ä–æ–≤–µ—Ä—å –µ—Å—Ç—å –ª–∏ SNT –¥–ª—è gas
3. –ü–æ–ª—É—á–∏–ª –ª–∏ —Ç—ã —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ —Ä–µ—Å—É—Ä—Å—ã –æ—Ç –∞–¥–º–∏–Ω–∞
```

### "Prices not updating"
```
–î–æ–∂–¥–∏—Å—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ triggerRandomEvent()
–¶–µ–Ω—ã –æ–±–Ω–æ–≤—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏—è
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `INTEGRATION_GUIDE.md` - –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- `FARM_GAME_CONTRACTS.md` - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
- `DEPLOYED_ADDRESSES.md` - –ê–¥—Ä–µ—Å–∞ –Ω–∞ Status Sepolia
- `XSOLLA_SETUP.md` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OAuth

---

## ‚ú® –ß—Ç–æ –¥–∞–ª—å—à–µ?

- [ ] –î–æ–±–∞–≤–∏—Ç—å UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –∏–≥—Ä—ã
- [ ] Keeper bot –¥–ª—è –∞–≤—Ç–æ-—Å–æ–±—ã—Ç–∏–π
- [ ] Leaderboard (—Ç–æ–ø —Ñ–µ—Ä–º–µ—Ä—ã)
- [ ] P2P marketplace
- [ ] –°–µ–∑–æ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
- [ ] –ê–ø–≥—Ä–µ–π–¥—ã –∑–µ–º–ª–∏

---

**üéâ –í–°–Å –†–ê–ë–û–¢–ê–ï–¢! –ò–ì–†–ê–ô –ò –ù–ê–°–õ–ê–ñ–î–ê–ô–°–Ø! üåæüéÆ**
