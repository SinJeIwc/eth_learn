# üéÆ MVP –°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π - –ë—ã—Å—Ç—Ä–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è

## ‚ö° –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è MVP

### –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã:

- **–°–æ–±—ã—Ç–∏—è**: –∫–∞–∂–¥—ã–µ **2 –º–∏–Ω—É—Ç—ã** (–≤–º–µ—Å—Ç–æ 1 —á–∞—Å–∞)
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞**: –∫–∞–∂–¥—ã–µ **5 –º–∏–Ω—É—Ç** (–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å)

### –û–∫—Ä—É–≥–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏:

–ö–æ–Ω—Ç—Ä–∞–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ "–≤–Ω–∏–∑" –∫ –±–ª–∏–∂–∞–π—à–µ–º—É –∏–Ω—Ç–µ—Ä–≤–∞–ª—É:

```
–ü—Ä–∏–º–µ—Ä –¥–ª—è 5 –º–∏–Ω—É—Ç:
- –í—ã–∑–æ–≤ –≤ 12:56 ‚Üí –æ–∫—Ä—É–≥–ª—è–µ—Ç—Å—è –¥–æ 12:55
- –í—ã–∑–æ–≤ –≤ 12:57 ‚Üí –æ–∫—Ä—É–≥–ª—è–µ—Ç—Å—è –¥–æ 12:55
- –í—ã–∑–æ–≤ –≤ 13:01 ‚Üí –æ–∫—Ä—É–≥–ª—è–µ—Ç—Å—è –¥–æ 13:00
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –¥–æ–∂–¥—è:

–ü—Ä–∏ —Å–æ–±—ã—Ç–∏–∏ **RAIN** –∫–æ–Ω—Ç—Ä–∞–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

1. –ù–∞—Ö–æ–¥–∏—Ç –í–°–ï –∞–∫—Ç–∏–≤–Ω—ã–µ —Ä–∞—Å—Ç–µ–Ω–∏—è (–Ω–µ —Å–æ–±—Ä–∞–Ω–Ω—ã–µ)
2. –£–º–µ–Ω—å—à–∞–µ—Ç –∏—Ö –≤—Ä–µ–º—è —Ä–æ—Å—Ç–∞ –Ω–∞ **10 –º–∏–Ω—É—Ç**
3. –ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏–π –∏–≥—Ä–æ–∫–∞!

## üîß –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞—Ö

### 1. GameEvents.sol

```solidity
// –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–æ–±—ã—Ç–∏–π: 2 –º–∏–Ω—É—Ç—ã
uint256 public constant EVENT_INTERVAL = 2 minutes;
uint256 public lastEventTime; // –û–∫—Ä—É–≥–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è

function canTriggerEvent() public view returns (bool) {
    uint256 currentRoundedTime = (block.timestamp / EVENT_INTERVAL) * EVENT_INTERVAL;
    return currentRoundedTime > lastEventTime;
}

// –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–∞ (5-–º–∏–Ω—É—Ç–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã)
function getCurrentMarketInterval() external view returns (uint256);
function getMarketIntervalNumber() external view returns (uint256);
```

### 2. SimpleGameEffects.sol

```solidity
uint256 public constant TIME_REDUCTION = 10 minutes;

function _applyRain() internal {
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –í–°–ï–ú –∞–∫—Ç–∏–≤–Ω—ã–º —Ä–∞—Å—Ç–µ–Ω–∏—è–º
    uint256 totalSupply = plantNFT.totalSupply();
    uint256 affectedCount = 0;

    for (uint256 i = 0; i < totalSupply; i++) {
        uint256 tokenId = plantNFT.tokenByIndex(i);
        PlantNFT.Plant memory plant = plantNFT.getPlant(tokenId);

        if (!plant.isHarvested) {
            plantNFT.reduceGrowthTime(tokenId, TIME_REDUCTION);
            affectedCount++;
        }
    }

    emit RainApplied(affectedCount, TIME_REDUCTION);
}
```

### 3. PlantNFT.sol

```solidity
// –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç ERC721Enumerable –¥–ª—è –∏—Ç–µ—Ä–∞—Ü–∏–∏
contract PlantNFT is ERC721Enumerable, Ownable {
    struct Plant {
        // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è
        bool isHarvested; // –ù–æ–≤–æ–µ –ø–æ–ª–µ
        address owner;    // –ù–æ–≤–æ–µ –ø–æ–ª–µ
    }

    // –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
    function markAsHarvested(uint256 tokenId) external onlyAuthorized;
    function _update(...) internal override; // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è owner
}
```

## üöÄ –î–µ–ø–ª–æ–π

```bash
cd frontend/packages/hardhat

# –ü–æ–ª–Ω—ã–π —Ä–µ–¥–µ–ø–ª–æ–π —Å –Ω–æ–≤—ã–º–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏
yarn deploy --reset --network statusSepolia

# –ò–ª–∏ —Ç–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã
yarn deploy --tags UpdatedEventSystem --network statusSepolia
```

## üé® –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### useHourlyEventTrigger.ts

- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ **2 –º–∏–Ω—É—Ç—ã** (–≤–º–µ—Å—Ç–æ 1 —á–∞—Å–∞)
- –û–∫—Ä—É–≥–ª–µ–Ω–∏–µ –¥–æ 2-–º–∏–Ω—É—Ç–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞
- –õ–æ–≥–∏: "üé≤ Triggering event (2-minute interval)..."

### useShopInventory.ts

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `getMarketIntervalNumber()` –≤–º–µ—Å—Ç–æ `getEventsCount()`
- –ú–∞–≥–∞–∑–∏–Ω –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ **5 –º–∏–Ω—É—Ç**
- –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è: `hash(address + intervalNumber + seedType) % 11`

### useMarketUpdateNotifier.ts (–ù–û–í–´–ô)

- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–∞–π–º–µ—Ä –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–∞–≥–∞–∑–∏–Ω–∞
- –§–æ—Ä–º–∞—Ç: `MM:SS` (–Ω–∞–ø—Ä–∏–º–µ—Ä "4:32")
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ—Ñ–µ—Ç—á–∏—Ç –¥–∞–Ω–Ω—ã–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥

### EventNotification.tsx

- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ–±—ã—Ç–∏–µ (—Å–ø—Ä–∞–≤–∞)
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–∞–π–º–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–∞–≥–∞–∑–∏–Ω–∞ (—Å–ª–µ–≤–∞)
- –û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ: "10 –º–∏–Ω—É—Ç" –≤–º–µ—Å—Ç–æ "2 —á–∞—Å–æ–≤"

## ‚è±Ô∏è –¢–∞–π–º–ª–∞–π–Ω –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏

```
00:00 - –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã
00:30 - –ü–æ—Å–∞–¥–∫–∞ –ø–µ—Ä–≤—ã—Ö —Ä–∞—Å—Ç–µ–Ω–∏–π (30 —Å–µ–∫ —Ä–æ—Å—Ç–∞ –¥–ª—è –ø—à–µ–Ω–∏—Ü—ã)
02:00 - –ü–µ—Ä–≤–æ–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ
02:30 - –ï—Å–ª–∏ –±—ã–ª –¥–æ–∂–¥—å: —Ä–∞—Å—Ç–µ–Ω–∏—è –≥–æ—Ç–æ–≤—ã –∫ —Å–±–æ—Ä—É (30—Å - 10–º = –º–≥–Ω–æ–≤–µ–Ω–Ω–æ)
04:00 - –í—Ç–æ—Ä–æ–µ —Å–æ–±—ã—Ç–∏–µ
05:00 - –ú–∞–≥–∞–∑–∏–Ω –æ–±–Ω–æ–≤–∏–ª—Å—è (–Ω–æ–≤—ã–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å)
06:00 - –¢—Ä–µ—Ç—å–µ —Å–æ–±—ã—Ç–∏–µ
07:00 - –ú–∞–≥–∞–∑–∏–Ω –æ–±–Ω–æ–≤–∏–ª—Å—è —Å–Ω–æ–≤–∞
```

## üß™ –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–±—ã—Ç–∏–π (2 –º–∏–Ω—É—Ç—ã)

```bash
# –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
console.log("–°–ª–µ–¥—É—é—â–µ–µ —Å–æ–±—ã—Ç–∏–µ —á–µ—Ä–µ–∑:", new Date(Date.now() + (120000 - (Date.now() % 120000))))
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞ (5 –º–∏–Ω—É—Ç)

```bash
# –û—Ç–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω, –∑–∞–ø–∏—Å–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–º—è–Ω
# –ü–æ–¥–æ–∂–¥–∞—Ç—å 5 –º–∏–Ω—É—Ç
# –°–Ω–æ–≤–∞ –æ—Ç–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–∂–¥—è

```typescript
// 1. –ü–æ—Å–∞–¥–∏—Ç—å —Ä–∞—Å—Ç–µ–Ω–∏–µ
// 2. –î–æ–∂–¥–∞—Ç—å—Å—è —Å–æ–±—ã—Ç–∏—è RAIN
// 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å PlantNFT.getPlant(tokenId).plantedAt
// 4. –í—Ä–µ–º—è –¥–æ–ª–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å—Å—è –Ω–∞ 10 –º–∏–Ω—É—Ç (600 —Å–µ–∫—É–Ω–¥)
```

## üìä UI –≠–ª–µ–º–µ–Ω—Ç—ã

### –ü—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª - –¢–µ–∫—É—â–µ–µ —Å–æ–±—ã—Ç–∏–µ

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üåßÔ∏è  –î–æ–∂–¥—å               ‚îÇ
‚îÇ –£—Å–∫–æ—Ä—è–µ—Ç —Ä–æ—Å—Ç –Ω–∞ 10 –º–∏–Ω! ‚îÇ
‚îÇ –°–æ–±—ã—Ç–∏–π: 15              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –õ–µ–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª - –¢–∞–π–º–µ—Ä –º–∞–≥–∞–∑–∏–Ω–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üõí –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ    ‚îÇ
‚îÇ    –º–∞–≥–∞–∑–∏–Ω–∞      ‚îÇ
‚îÇ    3:45          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üéØ –î–µ–º–æ-—Å—Ü–µ–Ω–∞—Ä–∏–π –¥–ª—è –ø–æ–∫–∞–∑–∞

1. **00:00** - –ü–æ–¥–∫–ª—é—á–∞–µ–º –∫–æ—à–µ–ª–µ–∫, –ø–æ–ª—É—á–∞–µ–º 50 FarmCoin
2. **00:10** - –ü–æ–∫—É–ø–∞–µ–º 3 —Å–µ–º–µ–Ω–∏ –ø—à–µ–Ω–∏—Ü—ã (–±—ã—Å—Ç—Ä—ã–π —Ä–æ—Å—Ç - 30 —Å–µ–∫)
3. **00:20** - –°–∞–∂–∞–µ–º –≤—Å–µ 3 —Å–µ–º–µ–Ω–∏
4. **00:50** - –ü—à–µ–Ω–∏—Ü–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Å–±–æ—Ä—É (30 —Å–µ–∫—É–Ω–¥ –ø—Ä–æ—à–ª–æ)
5. **01:00** - –°–æ–±–∏—Ä–∞–µ–º —É—Ä–æ–∂–∞–π, –ø—Ä–æ–¥–∞–µ–º –∑–∞ FarmCoin
6. **02:00** - ‚ö° **–°–û–ë–´–¢–ò–ï!** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç—Ä–∏–≥–≥–µ—Ä
   - –ï—Å–ª–∏ **RAIN**: –≤—Å–µ –Ω–æ–≤—ã–µ —Ä–∞—Å—Ç–µ–Ω–∏—è —Ä–∞—Å—Ç—É—Ç –Ω–∞ 10 –º–∏–Ω—É—Ç –±—ã—Å—Ç—Ä–µ–µ
   - –ï—Å–ª–∏ **DROUGHT**: —Ü–µ–Ω—ã –Ω–∞ –ø—à–µ–Ω–∏—Ü—É x2 –≤ –º–∞–≥–∞–∑–∏–Ω–µ
   - –ï—Å–ª–∏ **WINTER**: 10-50% —Ä–∞—Å—Ç–µ–Ω–∏–π –ø–æ–≥–∏–±–∞–µ—Ç
7. **04:00** - –ï—â–µ –æ–¥–Ω–æ —Å–æ–±—ã—Ç–∏–µ (—á–µ—Ä–µ–∑ 2 –º–∏–Ω—É—Ç—ã)
8. **05:00** - üõí **–ú–ê–ì–ê–ó–ò–ù –û–ë–ù–û–í–ò–õ–°–Ø** - –Ω–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–º—è–Ω
9. **06:00** - –¢—Ä–µ—Ç—å–µ —Å–æ–±—ã—Ç–∏–µ
10. **07:00** - –ú–∞–≥–∞–∑–∏–Ω —Å–Ω–æ–≤–∞ –æ–±–Ω–æ–≤–∏–ª—Å—è

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –°–æ–±—ã—Ç–∏—è –Ω–µ —Ç—Ä–∏–≥–≥–µ—Ä—è—Ç—Å—è –∫–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã

1. –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å: `üé≤ Triggering event (2-minute interval)...`
2. –£–±–µ–¥–∏—Å—å —á—Ç–æ –∫–æ—à–µ–ª–µ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å `GameEvents.lastEventTime()` - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫—Ä–∞—Ç–Ω–æ 120 —Å–µ–∫—É–Ω–¥–∞–º

### –ú–∞–≥–∞–∑–∏–Ω –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç

1. –ü—Ä–æ–≤–µ—Ä—å `GameEvents.getMarketIntervalNumber()`
2. –î–æ–ª–∂–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å—Å—è –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
3. –¢–∞–π–º–µ—Ä –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á–µ—Ç

### –î–æ–∂–¥—å –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ —Ä–∞—Å—Ç–µ–Ω–∏—è–º

1. –ü—Ä–æ–≤–µ—Ä—å event –≤ –∫–æ–Ω—Å–æ–ª–∏: `RainApplied(affectedCount, timeReduction)`
2. `affectedCount` –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å > 0
3. –ü—Ä–æ–≤–µ—Ä—å `plant.isHarvested` - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `false`

## üéâ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–º–æ!

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏:

- –°–æ–±—ã—Ç–∏—è –∫–∞–∂–¥—ã–µ **2 –º–∏–Ω—É—Ç—ã**
- –ú–∞–≥–∞–∑–∏–Ω –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ **5 –º–∏–Ω—É—Ç**
- –î–æ–∂–¥—å –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –∫–æ –≤—Å–µ–º —Ä–∞—Å—Ç–µ–Ω–∏—è–º
- –û–∫—Ä—É–≥–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ

–ó–∞–ø—É—Å–∫–∞–π—Ç–µ –¥–µ–ø–ª–æ–π –∏ –ø–æ–∫–∞–∂–∏—Ç–µ MVP!
