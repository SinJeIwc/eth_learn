# üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –±–ª–æ–∫—á–µ–π–Ω–∞ - –ì–û–¢–û–í–û!

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –°–æ–∑–¥–∞–Ω —Ö—É–∫ `useFarmContracts.ts`

–•—É–∫ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å–æ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏:

- ‚úÖ –ß—Ç–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ FarmCoin
- ‚úÖ –ß—Ç–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ PlantNFT
- ‚úÖ –ß—Ç–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ FarmLand
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `buySeeds()` - –ø–æ–∫—É–ø–∫–∞ —Å–µ–º—è–Ω
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `plantSeed()` - –ø–æ—Å–∞–¥–∫–∞
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `harvestCrop()` - —Å–±–æ—Ä —É—Ä–æ–∂–∞—è
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `approveFarmCoin()` - –æ–¥–æ–±—Ä–µ–Ω–∏–µ —Ç—Ä–∞—Ç

### 2. –û–±–Ω–æ–≤–ª–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `FarmGame.tsx`

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `useAccount` –∏ `useFarmContracts`
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –∏–∑ –±–ª–æ–∫—á–µ–π–Ω–∞
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ PlantNFT –∏ FarmLand
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä "‚õìÔ∏è Blockchain" –∫–æ–≥–¥–∞ –∫–æ—à–µ–ª–µ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω
- ‚úÖ MapModal –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –º–æ–Ω–µ—Ç

## üéÆ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

```bash
cd frontend/packages/nextjs
yarn dev
```

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π—Ç–µ –∏–≥—Ä—É

```
http://localhost:3001/game
```

### –®–∞–≥ 3: –ü—Ä–æ–π–¥–∏—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é Xsolla

–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ

### –®–∞–≥ 4: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ—à–µ–ª–µ–∫

1. –ù–∞–∂–º–∏—Ç–µ "Connect Wallet" (–ø—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª)
2. –í—ã–±–µ—Ä–∏—Ç–µ **Status Network Sepolia**
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

### –®–∞–≥ 5: –ü–æ–ª—É—á–∏—Ç–µ —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ —Ä–µ—Å—É—Ä—Å—ã

**–ß–µ—Ä–µ–∑ Debug UI (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ: http://localhost:3001/debug
2. –ù–∞–π–¥–∏—Ç–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç `FarmMarketplace` (–∞–¥—Ä–µ—Å: `0xb7278A61aa25c888815aFC32Ad3cC52fF24fE575`)
3. –í—ã–∑–æ–≤–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `giveStarterCoins`:

   ```
   player: <–≤–∞—à –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞>
   amount: 1000000000000000000000
   ```

   _(–≠—Ç–æ –¥–∞—Å—Ç 1000 FarmCoins)_

4. –í—ã–∑–æ–≤–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `mintStarterLand`:
   ```
   player: <–≤–∞—à –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞>
   ```
   _(–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç 48 –∑–µ–º–µ–ª—å–Ω—ã—Ö —É—á–∞—Å—Ç–∫–æ–≤ 8x6)_

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é

–í –∏–≥—Ä–µ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:

- üí∞ –ë–∞–ª–∞–Ω—Å FarmCoin (–Ω–∞–ø—Ä–∏–º–µ—Ä: 1000)
- üå± 0 (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ PlantNFT)
- üèûÔ∏è 48 (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–µ–º–µ–ª—å–Ω—ã—Ö —É—á–∞—Å—Ç–∫–æ–≤)
- ‚õìÔ∏è Blockchain (–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –∏–¥—É—Ç –∏–∑ –±–ª–æ–∫—á–µ–π–Ω–∞)

## üõí –ü–æ–∫—É–ø–∫–∞ —Å–µ–º—è–Ω —á–µ—Ä–µ–∑ –±–ª–æ–∫—á–µ–π–Ω

### MapModal —É–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –±–ª–æ–∫—á–µ–π–Ω—É!

–ö–æ–≥–¥–∞ –≤—ã –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç–µ –∫–∞—Ä—Ç—É –∏ –ø–æ–∫—É–ø–∞–µ—Ç–µ —Å–µ–º–µ–Ω–∞:

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–µ–π—á–∞—Å:**

1. MapModal –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å FarmCoin
2. –ü—Ä–∏ –ø–æ–∫—É–ø–∫–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è (–ø–æ–∫–∞)
3. –ë–∞–ª–∞–Ω—Å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏–∑ –±–ª–æ–∫—á–µ–π–Ω–∞

**–î–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ø–æ–∫—É–ø–∫–∏ –Ω—É–∂–Ω–æ:**

–û–±–Ω–æ–≤–∏—Ç—å MapModal —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `useFarmContracts`:

```tsx
// –í MapModal.tsx
import { useFarmContracts } from "~~/hooks/useFarmContracts";

const MapModal = ({ isOpen, onClose, coins, ... }) => {
  const { buySeeds, approveFarmCoin } = useFarmContracts();

  const handleBuySeeds = async (cropType: string, amount: number) => {
    try {
      // 1. –û–¥–æ–±—Ä–∏—Ç—å —Ç—Ä–∞—Ç—É
      const totalCost = PRICES[`${cropType}_seed`] * amount;
      await approveFarmCoin(BigInt(totalCost * 1e18));

      // 2. –ö—É–ø–∏—Ç—å —Å–µ–º–µ–Ω–∞
      await buySeeds(cropType, amount);

      alert("–°–µ–º–µ–Ω–∞ –∫—É–ø–ª–µ–Ω—ã! –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤ –±–ª–æ–∫—á–µ–π–Ω–µ!");
    } catch (error) {
      console.error("Error:", error);
      alert("–û—à–∏–±–∫–∞ –ø–æ–∫—É–ø–∫–∏");
    }
  };

  // ... rest of the code
};
```

## üìä –ê–¥—Ä–µ—Å–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ (Status Sepolia)

| –ö–æ–Ω—Ç—Ä–∞–∫—Ç        | –ê–¥—Ä–µ—Å                                        | Explorer                                                                                      |
| --------------- | -------------------------------------------- | --------------------------------------------------------------------------------------------- |
| FarmCoin        | `0x5eb3Bc0a489C5A8288765d2336659EbCA68FCd00` | [View](https://sepoliascan.status.network/address/0x5eb3Bc0a489C5A8288765d2336659EbCA68FCd00) |
| PlantNFT        | `0x36C02dA8a0983159322a80FFE9F24b1acfF8B570` | [View](https://sepoliascan.status.network/address/0x36C02dA8a0983159322a80FFE9F24b1acfF8B570) |
| FarmLand        | `0x809d550fca64d94Bd9F66E60752A544199cfAC3D` | [View](https://sepoliascan.status.network/address/0x809d550fca64d94Bd9F66E60752A544199cfAC3D) |
| FarmMarketplace | `0xb7278A61aa25c888815aFC32Ad3cC52fF24fE575` | [View](https://sepoliascan.status.network/address/0xb7278A61aa25c888815aFC32Ad3cC52fF24fE575) |

## üîß –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:

1. **–ü–æ–∫—É–ø–∫–∞ —Å–µ–º—è–Ω —á–µ—Ä–µ–∑ –±–ª–æ–∫—á–µ–π–Ω**

   - –û–±–Ω–æ–≤–∏—Ç—å MapModal –¥–ª—è –≤—ã–∑–æ–≤–∞ `buySeeds()`
   - –î–æ–±–∞–≤–∏—Ç—å `approveFarmCoin()` –ø–µ—Ä–µ–¥ –ø–æ–∫—É–ø–∫–æ–π
   - –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

2. **–ü–æ—Å–∞–¥–∫–∞ —á–µ—Ä–µ–∑ –±–ª–æ–∫—á–µ–π–Ω**

   - –û–±–Ω–æ–≤–∏—Ç—å FarmGrid –¥–ª—è –≤—ã–∑–æ–≤–∞ `plantSeed()`
   - –°–≤—è–∑–∞—Ç—å –∫–ª–∏–∫ –Ω–∞ –∫–ª–µ—Ç–∫—É —Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º
   - –°–æ–∑–¥–∞—Ç—å PlantNFT –ø—Ä–∏ –ø–æ—Å–∞–¥–∫–µ

3. **–°–±–æ—Ä —É—Ä–æ–∂–∞—è —á–µ—Ä–µ–∑ –±–ª–æ–∫—á–µ–π–Ω**
   - –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Å–±–æ—Ä–∞ –¥–ª—è –≤—ã–∑–æ–≤–∞ `harvestCrop()`
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å `isReadyToHarvest` –∏–∑ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
   - –°–∂–∏–≥–∞—Ç—å PlantNFT –∏ –¥–∞–≤–∞—Ç—å –Ω–∞–≥—Ä–∞–¥—É

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:

4. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è**

   - –ß–∏—Ç–∞—Ç—å PlantNFT –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –≥—Ä—è–¥–∫–µ
   - –û–±–Ω–æ–≤–ª—è—Ç—å UI –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ –±–ª–æ–∫—á–µ–π–Ω–µ
   - –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞

5. **UI/UX —É–ª—É—á—à–µ–Ω–∏—è**
   - Loading –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö
   - Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (success/error)
   - –ê–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ/–ø–æ—Å–∞–¥–∫–µ/—Å–±–æ—Ä–µ

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### "–ë–∞–ª–∞–Ω—Å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 0"

**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç–µ —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ –º–æ–Ω–µ—Ç—ã —á–µ—Ä–µ–∑ Debug UI (—Ñ—É–Ω–∫—Ü–∏—è `giveStarterCoins`)

### "–ù–µ –≤–∏–∂—É –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä Blockchain"

**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ—à–µ–ª–µ–∫ –∫ Status Network Sepolia

### "–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏"

**–ü—Ä–∏—á–∏–Ω—ã:**

- –ù–µ –æ–¥–æ–±—Ä–µ–Ω–∞ —Ç—Ä–∞—Ç–∞ FarmCoin ‚Üí –≤—ã–∑–æ–≤–∏—Ç–µ `approveFarmCoin()` —Å–Ω–∞—á–∞–ª–∞
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç ‚Üí –ø–æ–ª—É—á–∏—Ç–µ —á–µ—Ä–µ–∑ `giveStarterCoins`
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å–µ—Ç—å ‚Üí —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—ã–±—Ä–∞–Ω–∞ Status Sepolia (chainId: 1660990954)

### "Gas fees?"

**–û—Ç–≤–µ—Ç:** Gas = 0! Status Network Sepolia –∏–º–µ–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ üéâ

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤

### FarmMarketplace.buySeed()

```solidity
function buySeed(SeedType seedType, uint256 quantity) external
// SeedType: 0=WHEAT, 1=GRAPE, 2=PUMPKIN
// –¢—Ä–µ–±—É–µ—Ç: approve FarmCoin –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º
```

### FarmMarketplace.plantSeed()

```solidity
function plantSeed(SeedType seedType, uint256 landTokenId) external returns (uint256 plantTokenId)
// –°–æ–∑–¥–∞–µ—Ç PlantNFT –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–º —É—á–∞—Å—Ç–∫–µ –∑–µ–º–ª–∏
// –¢—Ä–µ–±—É–µ—Ç: –≤–ª–∞–¥–µ–Ω–∏–µ landTokenId
```

### FarmMarketplace.harvestCrop()

```solidity
function harvestCrop(uint256 plantTokenId) external
// –°–∂–∏–≥–∞–µ—Ç PlantNFT, –º–∏–Ω—Ç–∏—Ç FarmCoin
// –¢—Ä–µ–±—É–µ—Ç: plant.growthStage == 3 (mature)
```

## ‚úÖ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

- ‚úÖ –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –∑–∞–¥–µ–ø–ª–æ–µ–Ω—ã
- ‚úÖ –•—É–∫ `useFarmContracts` —Å–æ–∑–¥–∞–Ω
- ‚úÖ FarmGame –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–ª–æ–∫—á–µ–π–Ω–∞
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –±–∞–ª–∞–Ω—Å FarmCoin
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ NFT
- ‚è≥ MapModal —á–∏—Ç–∞–µ—Ç –±–∞–ª–∞–Ω—Å (–Ω–æ –ø–æ–∫—É–ø–∫–∞ –µ—â–µ –ª–æ–∫–∞–ª—å–Ω–∞—è)
- ‚è≥ –ü–æ—Å–∞–¥–∫–∞ –ø–æ–∫–∞ –ª–æ–∫–∞–ª—å–Ω–∞—è (–Ω—É–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É)
- ‚è≥ –°–±–æ—Ä —É—Ä–æ–∂–∞—è –ø–æ–∫–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π (–Ω—É–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É)

---

**–í—ã–≤–æ–¥:** –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞! –ò–≥—Ä–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–ª–æ–∫—á–µ–π–Ω–∞. –û—Å—Ç–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏—è (–ø–æ–∫—É–ø–∫–∞, –ø–æ—Å–∞–¥–∫–∞, —Å–±–æ—Ä) –∫ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º.

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –û–±–Ω–æ–≤–∏—Ç—å MapModal –¥–ª—è –≤—ã–∑–æ–≤–∞ `buySeeds()` –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ —Å–µ–º—è–Ω.
